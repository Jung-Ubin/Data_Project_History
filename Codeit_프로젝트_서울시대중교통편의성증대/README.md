## 1. Project - 서울시 대중교통 편의성 증대

- 프로젝트 개요
- **주제**: 서울시 대중교통 취약 지역 분석 및 개선 방안 도출
- **기간**: 2025.05.16 ~ 2025.05.29
- **유형**: Codeit 데이터 분석 프로젝트 (팀 프로젝트)

### Background  

서울시의 대중교통 이용 환경은 시민 생활과 밀접하게 연결되어 있으며,  
지역별 인구 분포 대비 대중교통 인프라 불균형이 존재할 수 있다는 문제의식에서 출발함.  
특히 **동작구·성동구**를 중심으로,  
생활 인구 대비 정류장·노선·역·따릉이 인프라의 공간적 불균형을 데이터 기반으로 규명하고  
대중교통 취약 지역을 도출하는 것을 목표로 함.  

<br>

**(1) Data Collection**   
- 서울시 시내버스 정류소 현황 데이터 수집   
- 서울시 생활 인구 데이터 수집(2024년 9월 4주, 평일/주말 평균)   
- 서울시 시군구·행정동 경계 shp 데이터 수집   
- 지하철역, 따릉이, 버스노선 API 수집 시도 및 구축   

<br>

**(2) Data Preprocessing**    
- 행정구·행정동 경계 추출 및 좌표 변환
- 동작구·성동구를 100m 격자 단위로 분할하여 중심 좌표 생성
- 각 격자 중심 기준
  - 가장 가까운 지하철 역 거리 계산
  - 150m / 300m / 400m 반경 내 정류장 수 계산
```python
# 격자 중심 기준 반경 내 정류장 수 계산
def haversine(lon1, lat1, lon2, lat2):    ## 하버사인 공식 사용 → 지구 곡률 고려한 거리 계산
    R = 6371000   ## 지구 반지름 (미터 단위)

    ## 위도/경도를 라디안 단위로 변환 
    phi1, phi2 = radians(lat1), radians(lat2)
    dphi = radians(lat2 - lat1)
    dlambda = radians(lon2 - lon1)

    ## 하버사인 공식 계산
    a = sin(dphi/2)**2 + cos(phi1)*cos(phi2)*sin(dlambda/2)**2

    ## 두 지점 사이 거리 계산 (미터) 
    return 2 * R * atan2(sqrt(a), sqrt(1 - a))

# 각 격자 중심 좌표를 기준으로 주변 버스 정류장을 탐색
for i, grid in D_df.iterrows():                      ## 모든 격자 하나씩 순회
    for _, station in bus_station_data.iterrows():   ## 모든 정류장 하나씩 순회

        ## 격자 중심과 정류장 사이 거리 계산
        dist = haversine(grid["경도"], grid["위도"], station["X좌표"], station["Y좌표"])

        ## 만약 해당 정류장이 반경 300m 이내에 있다면
        if dist <= 300:
            D_df.at[i, "300m_정류장수"] += 1    ## 해당 격자에 포함되는 300m 이내 정류장 개수 증가
```
- 대중교통 일평균 이용량을 동 단위로 집계
- 인구 밀집도 대비 정류장·노선 수 파생 변수 계가 충분하지 못했던 한계를 인식함
- 대중교통 인프라 개선 전·후 데이터를 활용한 정책 효과 분석의 필요성을 느낌
- 재개발 지역 및 인구 이동 변화 반영한 지속적인 데이터 수집 및 업데이트도 필요하다고 판단됨

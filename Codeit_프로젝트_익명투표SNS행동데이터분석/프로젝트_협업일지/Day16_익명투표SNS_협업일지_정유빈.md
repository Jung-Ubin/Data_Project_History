# Day - 16 협업 일지(고급)

#### 일자: 25-11-03 / 정유빈

---

### 팀원들과 논의한 일

- 팀원들이 분석한 내용 인사이트 정리하여 보고서 준비하기

<br>

## \* 오늘 + 내가 한 일

### 패턴 분석 정교화

> 패턴을 `ps.maxlen = 3` / `min_support = 1000` 으로 설정하여,  
> 보고 싶은 구간을 더 정교하고 컴팩트하게 확인하여  
> 사용자 이용 패턴에서의 더 정확하고 확실한 인사이트를 확보함  
> 필요한 `event_key`를 더 추가하여 분석함

<br>

- 유저 행동 흐름(패턴) 파악에 사용된 `event_key`

- `click_question_open`
- `view_shop`
- `launch_app`
- `view_questions_tap`
- `complete_question`
- `click_appbar_alarm_center`
- `click_timeline_chat_start`
- `click_question_ask`
- `click_question_start`
- `click_profile_ask`
- `click_purchase`
- `complete_purchase`
- `view_home_tap`
- `click_community_chat`

<br>

### 재 분석 결과

## 3-Step 패턴 분석

> 데이터 기반: 상위 주요 3-Step 패턴(전체 비중 높은 흐름 중심 재분석)  
> 대상: 행동 로그가 수집된 유저들 중 session_id 1개 보유 유저(99% 유저들)

<br>

### 핵심 인사이트 요약

| 카테고리                        |          비중 | 해석                             |
| ------------------------------- | ------------: | -------------------------------- |
| **질문 탐색(열람) 리드 플로우** | **매우 높음** | 사용자 대부분은 탐색만 하고 종료 |
| **질문 생성(시작→완료) 플로우** |          중간 | 진입은 되나 완성까지 장벽 존재   |
| **알림 → 질문 탐색 전환**       |     중간 이상 | 친구 관련 알림 흐름이 큰 역할    |
| **질문 → 결제 플로우**          |     매우 낮음 | 구매 전환은 구조 개선 필요       |
| **질문 → 채팅 플로우**          |          낮음 | Engagement 확장 잠재성 존재      |

<br>

### 1. 질문 탐색 중심 플로우

- 사용자 행동의 가장 큰 비중  
  → 질문을 둘러보다가 **종료하거나, 루프에 빠짐**

<br>

| 대표 패턴                                                       |  비율 |
| --------------------------------------------------------------- | ----: |
| `launch_app → click_question_open → view_questions_tap`         | 0.68% |
| `launch_app → view_questions_tap → view_questions_tap`          | 0.70% |
| `view_questions_tap → click_question_open → view_questions_tap` | 0.30% |

<br>

> `질문을 고르는 과정에서 계속 회귀`  
> → **전환(질문 시작) 직전 UX 개선 등 보강 아이디어 필요!!**  
> → 선택지를 더 명확하게 / 추천 질문 제시 등

---

### 2. 질문 완료 플로우

- 앱의 목적이자, 핵심 경험
- 탐색 → 시작 → 완료 까지 이어지는 플로우

<br>

| 대표 패턴                                                        |  비율 |
| ---------------------------------------------------------------- | ----: |
| `launch_app → click_question_start → complete_question`          | 1.76% |
| `launch_app → click_question_open → complete_question`           | 0.54% |
| `click_question_open → click_question_start → complete_question` | 0.57% |

<br>

> 앱의 핵심 목적을 경험한 유저들 존재  
> 질문 완료까지 이어지는 과정의 **흥미도/피로도 개선 필요**

---

### 3. 알림 → 질문 탐색

> 알람센터 클릭이 매우 높은 순위에서 반복 발생

| 대표 패턴                                                      |  비율 |
| -------------------------------------------------------------- | ----: |
| `launch_app → click_appbar_alarm_center → view_questions_tap`  | 0.88% |
| `launch_app → click_question_open → click_appbar_alarm_center` | 0.57% |

<br>

> **알림이 재방문/탐색 활성화에 강력한 역할**  
> 알림 콘텐츠를 활용하여 개선 방안 탐색

---

### 4. 결제 전환 플로우 (극소수)

> 사용자 관심 → 결제 행동 > 실패 혹은 이탈

| 대표 패턴                                           |      비율 |
| --------------------------------------------------- | --------: |
| `launch_app → click_question_open → view_shop`      |     0.18% |
| `click_question_start → view_shop → click_purchase` | 매우 낮음 |

<br>

> **상점 접근까지 오는 비율도 적고, 구매까지 이르는 비율도 적음**  
> → 상품 가치 명확화 / 프로모션 필요

---

### 5. 질문 → 채팅 플로우 (관계 유지 잠재성)

| 대표 패턴                                                              |   비율 |
| ---------------------------------------------------------------------- | -----: |
| `launch_app → click_timeline_chat_start → view_questions_tap`          |  0.17% |
| `click_question_start → complete_question → click_timeline_chat_start` | 극소수 |

<br>

> 질문 완료 후 채팅 연결  
> **소셜 그래프 강화 효과 있으나 지표는 낮음**  
> 타겟 유저가 존재하므로 기능 확장 가치 有

---

### 3-Step 인사이트 요약

| 카테고리            |          비중 | 해석                       |
| ------------------- | ------------: | -------------------------- |
| 질문 생산 플로우    | **매우 높음** | 앱의 핵심 경험             |
| 질문 탐색 반복      |      **높음** | 전환 지점 개선 여지        |
| 질문 완료 이후 유지 |          보통 | Retention 전략 중요 영역   |
| 상점/구매 흐름      |          낮음 | **구매 유도 UX 개선 필요** |
| 채팅/커뮤니티 전환  |          낮음 | Engagement 확장 가능성     |

<br>

## 2-Step 패턴 의미별 분류

<br>

### 핵심 인사이트 요약

| 카테고리                 |      비중 | 해석                         |
| ------------------------ | --------: | ---------------------------- |
| **탐색 중심 패턴**       | 매우 높음 | 질문 보기 → 반복 탐색 → 종료 |
| **질문 생성 진입**       | 중간 이상 | 시작은 많이 하나 완료는 적음 |
| **알림 기반 재방문**     |      높음 | 강력한 재활성화 동력         |
| **전환(완료/결제/채팅)** |      낮음 | 탐색 대비 행동 완성 부족     |

<br>

---

### 1. 탐색 중심 행동 (최대 비중)

| 패턴                                     |      비율 |
| ---------------------------------------- | --------: |
| launch_app → click_question_open         | **2.87%** |
| launch_app → view_questions_tap          | **2.35%** |
| view_questions_tap → click_question_open |     0.72% |
| click_question_open → view_questions_tap |     0.70% |

<BR>

> 앱 핵심 사용행동은 탐색에 머무르고 있음  
> **→ 시작 전환을 위한 UX 개선 필요**

---

### 2. 질문 시작 행동

> 시작 진입은 상당하지만,  
> **시작→완료 흐름은 급감**

| 패턴                                       |      비율 |
| ------------------------------------------ | --------: |
| launch_app → click_question_start          | **2.43%** |
| click_question_open → click_question_start |     0.74% |
| view_questions_tap → click_question_start  |     0.55% |

<BR>

> 앱의 핵심 가치를 체험하려 하지만,  
> **완료로 이어지는 UX 장벽** 존재 (개선 필요)

---

### 3. 질문 완료

> 완료 패턴 탐색 대비 낮은 비중을 보임

| 패턴                                     |      비율 |
| ---------------------------------------- | --------: |
| click_question_start → complete_question | **1.85%** |
| launch_app → complete_question           | **1.76%** |

<BR>

> 의지(흥미) 있는 유저는 끝까지 체험함  
> 그러나 **전환 포기 유저가 다수 존재**  
> **→ 난이도 / 보상 정책 등 개선 아이디어 필요**

---

### 4. 알림 기반 재방문

| 패턴                                            |             비율 |
| ----------------------------------------------- | ---------------: |
| launch_app → click_appbar_alarm_center          | **2.54% (Top2)** |
| click_appbar_alarm_center → view_questions_tap  |            0.89% |
| click_question_open → click_appbar_alarm_center |            0.60% |

<BR>

> 사회적 피드백(친구,질문 관련 알림)이  
> **재활성화를 견인하는 핵심 동력**

---

### 5. 결제 전환(극소수)

| 패턴                            |      비율 |
| ------------------------------- | --------: |
| launch_app → view_shop          | **0.28%** |
| click_question_open → view_shop |     0.18% |

<BR>

> **상점 진입은 있으나, 구매까지 가기 매우 어려움**  
> **유저 대상이 학생**인 기준도 있고, **구매 가치가 충분이 전달치 못한 점**도 영향이 있어보임

---

### 6. 소셜 전환 가능성

| 패턴                                                  |  비율 |
| ----------------------------------------------------- | ----: |
| launch_app → click_timeline_chat_start                | 0.28% |
| click_appbar_alarm_center → click_timeline_chat_start | 0.23% |

<BR>

> 작은 수지만,  
> **커뮤니티 강화 시 장기 유지 가능성이 올라갈 것**으로 보여짐

<br>

---

<br>

### 분석한 패턴 바탕으로, `user_flow sankey diagram` 제작

- 보고서 및 발표자료 때, 유저의 행동 흐름을 보기 좋게 시각화 작업 진행

<br>

### Sankey_Data 제작

> 기존, 패턴 분석에 사용된 데이터를 바탕으로 **`event_flow`를 유저 별 한 줄로 전처리 진행**  
> `event_flow` 내 중복되는 key 삭제하여 독립적인 `event_key`만 남도록 설정  
> 패턴 분석으로 통해 나온 유저의 대세흐름에 맟춰서 수치를 설정

<br>

- 분석 데이터 패턴을 바탕으로 만든 다이어그램 초안

![1762155535659](<image/Day16_협업일지_정유빈/1762155535659.png>)

<br>

---

### 브랜치 별 브릿지 설정

- 이벤트 키의 발생 순서대로 보기엔, 손실되는 데이터가 크다고 판단
- **이벤트 키 발생 순서가 필요한 부분에서만 사용(회귀 구간, 중복 구간 등)하고**, 나머지는 키를 포함하고 있는 상태로 러프하게 측정

<br>

![1762155707981](<image/Day16_협업일지_정유빈/1762155707981.png>)

<br>

위 수치 데이터를 활용하여, 다이어그램 제작

---

### Sankey Diagram 제작

- 다이어그램 초안을 바탕으로 구조 설정(사용했던 코드 참고)

[Sankey Diagram 보기](./sankey_user_flow.html)

<br>

![1762156025532](<image/Day16_협업일지_정유빈/1762156025532.png>)

---

### 총 분석 인사이트 정리

#### 1. 해당 앱 사용자의 남녀 성비는 균등한 것으로 나타남 (재 확인필요)

#### 2. 해당 앱의 흥미도가 낮아 단발성 유저들이 대부분인 것으로 보여짐 (패턴 분석 인사이트)

#### 3. 질문을 둘러보다가 종료하거나, 그 행동만 반복하는 유저들이 꽤 존재함

- 선호 질문 선택지를 보강하는 UX 개선이 필요해보임 (질문 분석과 연계필요)
- 이번 주 가장 인기있는 질문, 이번 주 핫한 친구 등 실시간 정보들을 통한 관심 유도

#### 4. 질문 완료 플로우를 보강하여, 흥미도/피로도를 개선할 필요성이 보임

- 재미없는 질문들이 자주 등장하거나, 임의의 친구들이 질문과 맞지않아 계속 탐색하고 이탈하는 상황이라 예상됨
- 해당 상황을 해결할 아이디어 필요

#### 5. 앱 시작 후 알림센터를 확인하는 유저들이 많음

- 알림 콘텐츠로 유저들을 앱을 사용하게 유도하는 컨텐츠 아이디어가 필요해보임
- 이번 주 가장 투표를 많이 받은 사람은?(친구 중에서)
- 00학교의 질문투표 현황 & 이벤트 연계 하트 뿌리기

#### 6. 상점 접근까지 오는 비율도 적고, 구매까지 이르는 비율도 적음

- 주 타겟층이 중/고등학생
- 질문 투표 및 채팅, 답장 등 크게본다면, 다른 앱에서 무료로도 할 수 있는 기능
- 결제 아이템이 명확하지 않음(초성힌트 제외)
- 그래서 구매 가치가 충분히 전달되지 못하는 영향이 가장 커보임
- 상품 기획 및 프로모션 아이디어가 필요

#### 7. 질문 완료 후 채팅 플로우

- 소셜 기능 강화 업데이트로 효과는 보여졌지만, 지표가 낮음(채팅방 업데이트)
- 마찬가지로, 다른 앱에서 당장 크게보면 무료로 할 수 있는 기능
- 해당 기능을 무료로 전환하고, 상품을 다른 쪽으로 전환하는 or 채팅방 자체를 only 채팅 외 다른 기능까지 추가하여 개편하는 방향성으로 생각

---

## \* 사용했던 코드

### Sankey 다이어그램 생성

```python
import plotly.graph_objects as go

labels = [
    "앱 실행",
    "질문 화면", "질문 열기", "질문 시작", "되돌아감", "질문 완료", "채팅 진입",
    "알림", "알림 이후 질문 화면",
    "상점 진입", "구매 클릭", "구매 완료"
]
idx = {l:i for i,l in enumerate(labels)}

links = [
    ("앱 실행", "질문 화면", 104353),
    ("질문 화면", "질문 열기", 63857),
    ("질문 열기", "질문 시작", 33910),
    ("질문 시작", "질문 화면", 5482),
    ("질문 시작", "질문 완료", 24836),
    ("질문 완료", "채팅 진입", 5793),
    ("앱 실행", "알림", 136890),
    ("알림", "질문 화면", 52861),
    ("알림", "상점 진입", 13269),
    ("상점 진입", "구매 클릭", 5603),
    ("구매 클릭", "구매 완료", 1436)
]
source = [idx[s] for s,t,_ in links]
target = [idx[t] for s,t,_ in links]
value  = [v for _,_,v in links]

node_values = [191107,104353,63857,33910,5482,24836,5793,136890,52861,13269,5603,1436]
baseline = node_values[0]
hover_data = [
    [f"{node_values[i]:,}명",
     f"{node_values[i]/baseline*100:.2f}%",
     f"{100-(node_values[i]/baseline*100):.2f}%"]
    for i in range(len(labels))
]

# 수동 좌표 (labels와 길이 동일, 0~1 범위)
x = [0.10,0.25,0.45,0.6,0.75,0.9,0.2,0.35,0.45,0.55,0.80,0.35]
y = [0.50,0.35,0.30,0.30,0.40,0.5,0.65,0.70,0.70,0.70,0.70,0.70]

fig = go.Figure(data=[go.Sankey(
    arrangement='fixed',
    node=dict(
        label=labels,
        x=x, y=y,
        pad=30, thickness=30,
        color=[
            "#b2df8a","#1f78b4","#33a02c","#fb9a99","#e31a1c","#a6cee3","#1f78b4",
            "#cab2d6","#6a3d9a","#fdbf6f","#ff7f00","#ff0000"
        ],
        customdata=hover_data,
        hovertemplate="<b>%{label}</b><br>전체: %{customdata[0]}<br>전환률: %{customdata[1]}<br>이탈률: %{customdata[2]}<extra></extra>"
    ),
    link=dict(
        source=source,
        target=target,
        value=value,
        hovertemplate="전환수: %{value:,}명<extra></extra>",
        color="rgba(90,90,90,0.2)"
    )
)])

fig.update_layout(
    title="유저 행동 전환 Sankey Diagram (전환률 + 이탈률 포함)",
    font_size=13,
    width=1800, height=900
)

fig.write_html("/home/nuwba/Desktop/sankey_user_flow.html")

fig.show()

```

<br>

---

## \*문제점

- 팀원들이 각자 분석한 내용들이 아직 정리가 안됬고, 현 분석 진행 중인 것도 존재하여, 시간이 좀 걸릴 것 같다
- 인사이트를 토대로 아이디어를 냈을 때, 팀원들의 의견이 서로 엇갈려 현재 아이디어 조정 중에 있음

<BR>

## \* 회고

- 현재까지 분석한 인사이트를 정리하고, 각 팀원들이 분석한 인사이트들도 정리하여,  
  개선, 보완 아이디어를 탐색해봐야겠다.

